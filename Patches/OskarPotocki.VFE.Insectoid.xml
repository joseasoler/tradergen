<?xml version="1.0" encoding="UTF-8"?>
<Patch>
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Vanilla Factions Expanded - Insectoids</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>
				<!-- Insectoid-themed specializations, unique to the bio-engineering supplier. -->
				<li Class="PatchOperationAdd">
					<xpath>/Defs</xpath>
					<value>
						<TG.TraderSpecializationDef>
							<defName>TG_InsectoidCraftsmanship</defName>
							<label>craftsmanship</label>
							<stockGens>
								<!-- Sells -->
								<li Class="TG.StockGen.StuffFromThingDef">
									<availableThingDefs>
										<li>VFEI_Chitin</li>
										<li MayRequire="sarg.alphaanimals">VFEI_Chitin</li>
										<li MayRequire="sarg.alphaanimals">VFEI_Chitin</li>
										<li MayRequire="sarg.alphaanimals">Leather_BlackChitin</li>
									</availableThingDefs>
									<maxTechLevelGenerate>Spacer</maxTechLevelGenerate>
									<stuffCountRange>0</stuffCountRange>
									<thingDefCountRange>8~11</thingDefCountRange>
									<countRange>1</countRange>
								</li>
								<li Class="TG.StockGen.AnimalMultiDef">
									<pawnKindDefs>
										<li>VFEI_VatGrownMilkbeetle</li>
									</pawnKindDefs>
									<newborn>true</newborn>
									<kindCountRange>1</kindCountRange>
									<countRange>2~3</countRange>
								</li>
							</stockGens>
						</TG.TraderSpecializationDef>
						<TG.TraderSpecializationDef>
							<defName>TG_InsectoidDraper</defName>
							<label>draper</label>
							<stockGens>
								<!-- Sells -->
								<li Class="TG.StockGen.StuffFromThingDef">
									<availableThingDefs>
										<li>VFEI_Spidersilk</li>
									</availableThingDefs>
									<maxTechLevelGenerate>Spacer</maxTechLevelGenerate>
									<stuffCountRange>0</stuffCountRange>
									<thingDefCountRange>7~9</thingDefCountRange>
									<countRange>1</countRange>
								</li>
								<li Class="TG.StockGen.AnimalMultiDef">
									<pawnKindDefs>
										<li>VFEI_VatGrownSpiderweaver</li>
									</pawnKindDefs>
									<newborn>true</newborn>
									<kindCountRange>1</kindCountRange>
									<countRange>2~3</countRange>
								</li>
							</stockGens>
						</TG.TraderSpecializationDef>
						<TG.TraderSpecializationDef>
							<defName>TG_InsectoidGourmet</defName>
							<label>gourmet</label>
							<stockGens>
								<!-- Sells. -->
								<li Class="TG.StockGen.InsectMeat">
									<thingDefCountRange>1</thingDefCountRange>
									<totalPriceRange>800~1150</totalPriceRange>
								</li>
								<li Class="TG.StockGen.MultiDef">
									<thingDefs>
										<li>InsectJelly</li>
										<li>VFEI_RoyalInsectJelly</li>
										<li>VFEI_InsectMilk</li>
										<li>VFEI_EggInsectoidUnfertilized</li>
										<li MayRequire="sarg.alphaanimals">AA_BlackInsectJelly</li>
										<li MayRequire="VanillaExpanded.VCookE">VCE_InsectJellyPreserves</li>
									</thingDefs>
									<thingDefCountRange>3~4</thingDefCountRange>
									<totalPriceRange>600~920</totalPriceRange>
								</li>
								<li Class="TG.StockGen.AnimalMultiDef">
									<pawnKindDefs>
										<li>VFEI_VatGrownMilkbeetle</li>
										<li>VFEI_VatGrownPrincess</li>
										<li>VFEI_VatGrownRoyalMaggot</li>
									</pawnKindDefs>
									<newborn>true</newborn>
									<kindCountRange>1~2</kindCountRange>
									<totalPriceRange>400~700</totalPriceRange>
								</li>
								<li Class="StockGenerator_SingleDef" MayRequire="sumghai.Replimat">
									<thingDef>IsolinearModule</thingDef>
									<countRange>1</countRange>
								</li>
								<!-- Purchases -->
								<li Class="StockGenerator_Category">
									<categoryDef>FoodRaw</categoryDef>
									<excludedCategories>
										<li>EggsFertilized</li>
									</excludedCategories>
								</li>
							</stockGens>
						</TG.TraderSpecializationDef>
						<TG.TraderSpecializationDef>
							<defName>TG_InsectoidHunting</defName>
							<label>hunting</label>
							<stockGens>
								<!-- Sells -->
								<li Class="TG.StockGen.AnimalMultiDef">
									<pawnKindDefs>
										<li>VFEI_VatGrownGigalocust</li>
										<li>VFEI_VatGrownGigascorpion</li>
										<li>VFEI_VatGrownMegapede</li>
										<li>VFEI_VatGrownMegascarab</li>
										<li>VFEI_VatgrownMegaspider</li>
										<li>VFEI_VatGrownSpelopede</li>
										<li>VFEI_VatGrownWargling</li>
										<li MayRequire="sarg.alphaanimals">AA_BlackScarab</li>
									</pawnKindDefs>
									<newborn>true</newborn>
									<kindCountRange>3~4</kindCountRange>
									<totalPriceRange>300~600</totalPriceRange>
								</li>
								<li Class="StockGenerator_SingleDef">
									<thingDef>Kibble</thingDef>
									<totalPriceRange>600~1000</totalPriceRange>
								</li>
								<li Class="TG.StockGen.MultiDef">
									<thingDefs>
										<li>VFE_Apparel_RiotArmor</li>
										<li>VFE_Apparel_RiotHelmet</li>
										<li>VFEI_Shield_Riot</li>
										<li>Gun_BoltActionRifle</li>
										<li>Gun_SniperRifle</li>
										<li MayRequire="OskarPotocki.VanillaFactionsExpanded.SettlersModule">VFES_Gun_HuntingRifle</li>
									</thingDefs>
									<thingDefCountRange>2~3</thingDefCountRange>
									<countRange>1~2</countRange>
								</li>
							</stockGens>
						</TG.TraderSpecializationDef>
						<TG.TraderSpecializationDef>
							<defName>TG_InsectoidHusbandry</defName>
							<label>husbandry</label>
							<stockGens>
								<!-- Sells. -->
								<li Class="TG.StockGen.AnimalMultiDef">
									<pawnKindDefs>
										<li>VFEI_VatGrownMilkbeetle</li>
										<li>VFEI_VatGrownPrincess</li>
										<li>VFEI_VatGrownRoyalMaggot</li>
										<li>VFEI_VatGrownSpiderweaver</li>
									</pawnKindDefs>
									<newborn>true</newborn>
									<kindCountRange>3~4</kindCountRange>
									<totalPriceRange>500~800</totalPriceRange>
								</li>
								<li Class="TG.StockGen.AnimalMultiDef">
									<pawnKindDefs>
										<li>VFEI_VatGrownCuterpillar</li>
									</pawnKindDefs>
									<newborn>true</newborn>
									<kindCountRange>1</kindCountRange>
									<countRange>1~2</countRange>
								</li>
								<li Class="StockGenerator_SingleDef">
									<thingDef>Kibble</thingDef>
									<totalPriceRange>600~1000</totalPriceRange>
								</li>
								<li Class="StockGenerator_SingleDef">
									<thingDef>Hay</thingDef>
									<totalPriceRange>600~1000</totalPriceRange>
								</li>
								<li Class="TG.StockGen.MultiDef" MayRequire="VanillaExpanded.VAPPE">
									<thingDefs>
										<li>VAE_Apparel_Overalls</li>
										<li>VAE_Apparel_FleeceShirt</li>
									</thingDefs>
									<thingDefCountRange>-2~1</thingDefCountRange>
									<countRange>1</countRange>
								</li>
								<li Class="StockGenerator_SingleDef" MayRequire="VanillaExpanded.VWE">
									<thingDef>VWE_Tool_Whip</thingDef>
									<countRange>-1~1</countRange>
								</li>
							</stockGens>
						</TG.TraderSpecializationDef>
					</value>
				</li>
				<!-- Specializations for the bio-engineering supplier. -->
				<li Class="PatchOperationAddModExtension">
					<xpath>/Defs/TraderKindDef[defName="VFEI_Orbital_BioEngineeringSupplier"]</xpath>
					<value>
						<li Class="TG.GenExtension">
							<specializations>
								<li>
									<def>TG_InsectoidCraftsmanship</def>
									<commonality>10.0</commonality>
								</li>
								<li>
									<def>TG_InsectoidDraper</def>
									<commonality>10.0</commonality>
								</li>
								<li>
									<def>TG_InsectoidGourmet</def>
									<commonality>10.0</commonality>
								</li>
								<li>
									<def>TG_InsectoidHunting</def>
									<commonality>10.0</commonality>
								</li>
								<li>
									<def>TG_InsectoidHusbandry</def>
									<commonality>10.0</commonality>
								</li>
								<li>
									<def>TG_Wealth</def>
									<commonality>10.0</commonality>
								</li>
							</specializations>
						</li>
					</value>
				</li>
			</operations>
		</match>
	</Operation>
</Patch>