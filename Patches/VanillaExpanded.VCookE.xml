<?xml version="1.0" encoding="utf-8" ?>
<Patch>
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Vanilla Cooking Expanded</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>
				<!-- Allow traders to sell canned food and meals. -->
				<li Class="PatchOperationReplace">
					<xpath>/Defs/ThingDef[defName="VCE_CannedMeat" or defName="VCE_CannedProduce" or defName="VCE_CannedFruit" or
						defName="VCE_CannedAP" or defName="VCE_CannedFish" or defName="VCE_DeepFriedBigMeat" or
						defName="VCE_DeepFriedVegetables" or defName="VCE_DeepFriedFish"]/tradeability
					</xpath>
					<value>
						<tradeability>All</tradeability>
					</value>
				</li>
				<!-- Canned food makes more sense for orbital traders than raw food, as it does not require refrigeration.	-->
				<li Class="PatchOperationFindMod">
					<mods>
						<li>Vanilla Cooking Expanded</li>
					</mods>
					<match Class="PatchOperationConditional">
						<xpath>/Defs/TraderKindDef[defName="Orbital_BulkGoods"]/stockGenerators/li[@Class="StockGenerator_Category"
							and categoryDef="FoodRaw"]
						</xpath>
						<match Class="PatchOperationSequence">
							<operations>
								<li Class="PatchOperationRemove">
									<xpath>
										/Defs/TraderKindDef[defName="Orbital_BulkGoods"]/stockGenerators/li[@Class="StockGenerator_Category"
										and categoryDef="FoodRaw"]
									</xpath>
								</li>
								<li Class="PatchOperationAdd">
									<xpath>/Defs/TraderKindDef[defName="Orbital_BulkGoods"]/stockGenerators</xpath>
									<value>
										<li Class="StockGenerator_SingleDef">
											<thingDef>VCE_CannedMeat</thingDef>
											<totalPriceRange>1000~1250</totalPriceRange>
										</li>
										<li Class="StockGenerator_SingleDef">
											<thingDef>VCE_CannedProduce</thingDef>
											<totalPriceRange>650~875</totalPriceRange>
										</li>
									</value>
								</li>
							</operations>
						</match>
					</match>
				</li>
			</operations>
		</match>
	</Operation>
</Patch>

